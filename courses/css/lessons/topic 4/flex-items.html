<header class="lesson-header">
    <h1 class="artifact-title">4.2 Flex Item Sizing</h1>
    <p class="artifact-subtitle">The Negotiation of Space: Mastering the expansion, contraction, and base-geometry of flex items.</p>
</header>

<section class="lesson-content">
    
    <div class="content-block">
        <h2>The Sizing Trinity</h2>
        <p>
            In a standard block layout, an element's size is usually fixed (e.g., 200px). In a Flexbox environment, an item's final size is determined by three variables working in unison. This is the <strong>Flex Factor</strong>.
        </p>
        <p>
            The engine first looks at the "ideal" size of the item, then calculates how much space is left over in the container, and finally distributes that space based on the weights you assign.
        </p>
    </div>

    <div class="content-block">
        <h2>1. Flex-Basis: The Starting Point</h2>
        <p>
            <code>flex-basis</code> defines the default size of an element before the remaining space is distributed. 
        </p>
        <ul class="artifact-list">
            <li>If the axis is <code>row</code>, it acts like <code>width</code>.</li>
            <li>If the axis is <code>column</code>, it acts like <code>height</code>.</li>
            <li><strong>Value 'auto':</strong> The browser looks at the item's content size (intrinsic size).</li>
        </ul>
    </div>

    <div class="content-block">
        <h2>2. Flex-Grow: The Distribution of Wealth</h2>
        <p>
            If there is extra space in the container, <code>flex-grow</code> determines how much of that space the item should "eat." It is a unitless proportion.
        </p>
        <div class="alert-box gold">
            <span class="alert-icon">⚡</span>
            <div class="alert-content">
                <strong>Architect's Math:</strong> If Item A has <code>flex-grow: 1</code> and Item B has <code>flex-grow: 2</code>, and there is 90px of extra space, Item B will take 60px (2/3) and Item A will take 30px (1/3).
            </div>
        </div>
    </div>

    <div class="content-block">
        <h2>3. Flex-Shrink: The Sacrifice Logic</h2>
        <p>
            If the items are too large for the container, <code>flex-shrink</code> determines how they should "give up" space to prevent overflow.
        </p>
        <ul class="artifact-list">
            <li><strong>0:</strong> The item refuses to shrink (maintains its <code>flex-basis</code>).</li>
            <li><strong>1 (Default):</strong> All items shrink at the same rate.</li>
            <li><strong>Higher values:</strong> The item shrinks faster than its neighbors.</li>
        </ul>
    </div>

    <div class="code-artifact">
        <div class="code-header">
            <span class="lang-tag">CSS</span>
            <span class="file-name">sizing_logic.css</span>
        </div>
        <pre><code class="language-css">.sidebar {
    /* Does not grow, does not shrink, starts at 300px */
    flex-grow: 0;
    flex-shrink: 0;
    flex-basis: 300px;
}

.content-main {
    /* Consumes all remaining space */
    flex-grow: 1;
    flex-shrink: 1;
    flex-basis: auto;
}</code></pre>
    </div>

    <div class="content-block">
        <h2>4. The Absolute Shorthand: flex</h2>
        <p>
            As a Senior Architect, you should rarely write the three properties above separately. Instead, use the <code>flex</code> shorthand. It is more than just a shortcut; it sets <strong>intelligent defaults</strong> that prevent common layout bugs.
        </p>
        <div class="code-artifact">
            <div class="code-header">
                <span class="lang-tag">Syntax</span>
                <span class="file-name">shorthand_standards.css</span>
            </div>
            <pre><code class="language-css">/* flex: [grow] [shrink] [basis] */

.item-flexible {
    flex: 1 1 auto; /* The "Standard" flexible item */
}

.item-static {
    flex: 0 0 200px; /* Locked size, no change */
}

.item-greedy {
    flex: 1; /* Shorthand for flex: 1 1 0% */
}</code></pre>
        </div>
    </div>

    <div class="alert-box gold">
        <span class="alert-icon">⚠</span>
        <div class="alert-content">
            <strong>The 0% vs Auto Distinction:</strong> When you use <code>flex: 1</code>, the basis is set to <code>0%</code>. This means the browser ignores the item's content size and distributes the entire container width. If you use <code>flex-grow: 1</code> with <code>flex-basis: auto</code>, the browser first protects the content and only distributes the <em>leftover</em> space.
        </div>
    </div>

    <div class="content-block">
        <h2>Real-world Application: ROSETTA Sidebar</h2>
        <p>
            In the ROSETTA project, we use this logic for our main layout. The Sidebar is <code>flex: 0 0 280px</code> (it never changes), while the Main Content area is <code>flex: 1</code> (it expands to fill the rest of the screen).
        </p>
    </div>

</section>