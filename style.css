/* RESET & BASE */
* { box-sizing: border-box; margin: 0; padding: 0; -webkit-tap-highlight-color: transparent; }

body {
    background-color: #050505;
    color: #e0e0e0;
    font-family: 'Inter', sans-serif;
    height: 100vh;
    height: 100dvh; /* Better mobile height support */
    overflow: hidden;
}

/* UTILS & ANIMATION */
.full-screen {
    position: absolute; top: 0; left: 0; width: 100%; height: 100%;
    display: flex; flex-direction: column; justify-content: center; align-items: center;
    background: #050505; transition: opacity 0.8s ease-in-out;
    padding: 20px; text-align: center;
}
.hidden-view { opacity: 0; pointer-events: none; z-index: -1; display: none; }
.active-view { opacity: 1; pointer-events: all; z-index: 10; display: flex; }
.fade-in { animation: fadeIn 1.5s ease forwards; opacity: 0; }
.fade-in-delay { animation: fadeIn 1.5s ease forwards 0.8s; opacity: 0; }
@keyframes fadeIn { to { opacity: 1; } }

/* SCREEN 1 & 2 BUTTONS */
.subtitle { font-size: 1rem; letter-spacing: 3px; color: #666; margin-bottom: 20px; text-transform: uppercase; }
.rosetta-btn {
    font-family: 'Cinzel', serif; font-size: 3rem; background: transparent; color: #e0e0e0;
    border: none; cursor: pointer; letter-spacing: 5px; transition: 0.5s;
}
.category-btn {
    font-family: 'Cinzel', serif; font-size: 1.8rem; background: transparent; color: #fff;
    border: 1px solid #333; padding: 15px 40px; cursor: pointer; transition: 0.3s;
}

/* SCREEN 3: GRID (Mobile Responsive) */
.select-title { font-family: 'Cinzel', serif; font-size: 1.2rem; margin-bottom: 30px; color: #666; letter-spacing: 3px; }
.grid-container {
    display: grid; grid-template-columns: repeat(5, 1fr); gap: 15px; max-width: 1000px; width: 100%;
}
.lang-card {
    height: 100px; background: linear-gradient(145deg, #111, #0a0a0a); border: 1px solid #333;
    color: #888; font-family: 'Cinzel', serif; font-weight: 700; cursor: pointer;
    display: flex; justify-content: center; align-items: center; transition: 0.3s;
}
.lang-card:hover, .lang-card:active { border-color: #d4af37; color: #d4af37; background: #1a1a1a; }

/* SCREEN 4: MAIN LAYOUT */
.main-layout { height: 100vh; height: 100dvh; flex-direction: column; width: 100%; }

.navbar {
    background: #0a0a0a; border-bottom: 1px solid #222; height: 60px;
    padding: 0 20px; display: flex; justify-content: space-between; align-items: center;
}
.nav-left { display: flex; align-items: center; gap: 15px; }
#menu-btn { background: none; border: none; color: #d4af37; font-size: 1.5rem; cursor: pointer; display: none; } /* Hidden on Desktop */
.nav-logo { font-family: 'Cinzel', serif; font-size: 1.2rem; letter-spacing: 2px; color: #d4af37; }
#current-lang-display { color: #666; border: 1px solid #333; padding: 2px 8px; font-size: 0.7rem; }

.container { display: flex; flex: 1; overflow: hidden; position: relative; }

/* Sidebar */
#sidebar {
    width: 260px; background: #0a0a0a; border-right: 1px solid #222;
    padding: 20px; overflow-y: auto; padding-bottom: 60px; transition: transform 0.3s ease;
}
#content-area {
    flex: 1; padding: 30px; overflow-y: auto; background: #0e0e0e; padding-bottom: 80px;
}

/* Sidebar Elements */
details { margin-bottom: 10px; }
summary { color: #888; cursor: pointer; padding: 5px; font-family: 'Cinzel', serif; }
.lesson-btn {
    display: block; width: 100%; text-align: left; background: none; border: none;
    color: #666; padding: 10px 15px; cursor: pointer; font-size: 0.9rem;
}
.lesson-btn:active { color: #d4af37; background: #111; }

/* Content Elements */
h2 { color: #d4af37; margin-bottom: 15px; font-family: 'Cinzel', serif; }
p { line-height: 1.6; margin-bottom: 15px; color: #ccc; }
pre { background: #000; padding: 15px; border: 1px solid #333; overflow-x: auto; border-radius: 4px; margin-bottom: 20px; }
code { font-family: monospace; color: #a5d6ff; font-size: 0.9rem; }

/* FOOTER */
#kalex-footer {
    position: fixed !important; bottom: 0; left: 0; width: 100%; height: 40px;
    z-index: 2147483647; background: #000; border-top: 1px solid #333;
    display: flex; justify-content: center; align-items: center; gap: 10px;
}
.copyright { font-size: 0.7rem; color: #666; text-transform: uppercase; }
.project-name { font-family: 'Cinzel', serif; font-size: 0.7rem; color: #d4af37; }

/* --- MOBILE OPTIMIZATION --- */
@media (max-width: 768px) {
    .rosetta-btn { font-size: 2.5rem; }
    .grid-container { grid-template-columns: repeat(2, 1fr); } /* 2 cols on phone */
    
    #menu-btn { display: block; } /* Show Hamburger */
    
    #sidebar {
        position: absolute; top: 0; left: 0; height: 100%; z-index: 100;
        transform: translateX(-100%); /* Hide by default */
        border-right: 1px solid #d4af37;
    }
    #sidebar.open { transform: translateX(0); } /* Slide in */
    
    /* Dark Overlay when sidebar is open */
    #sidebar-overlay {
        position: absolute; top: 0; left: 0; width: 100%; height: 100%;
        background: rgba(0,0,0,0.8); z-index: 90; display: none;
    }
    #sidebar-overlay.active { display: block; }

    #content-area { padding: 20px; }
}